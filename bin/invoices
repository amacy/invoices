#!/usr/bin/env ruby
require 'sqlite3'
require_relative '../lib/invoices/controllers'
require_relative '../lib/invoices/views'
require_relative '../lib/invoices/models'
require_relative '../lib/invoices/application_controller'

INVOICES_VERSION = '0.0.0'
INVOICES_FOLDER = File.expand_path('~/Invoices')
INVOICES_DB = SQLite3::Database.new('test.db')

app = ApplicationController.new
app.db # Find/create the db
begin
  app.create_billers_table
  app.create_clients_table
  app.create_invoices_table
  app.create_line_items_table
rescue SQLite3::SQLException
end
Dir.mkdir(INVOICES_FOLDER) unless File.directory?(INVOICES_FOLDER)

# Command Line Prompts
app.parse_options
app.parse_commands
